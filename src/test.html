<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Title</title>
	</head>
	<body>
		<form id="form">
			<label for="name">Name:</label>
			<input type="text" name="name" id="name">
			<button type="submit">Submit</button>
		</form>
		
		<script>
			function logSubmit(event) {
				event.preventDefault();
				
				const params = {data: {
						name: document.getElementById('name').value
					}
				};
				
				console.log(JSON.stringify(params));
				const options = {
					method: "POST",
					body: JSON.stringify(params),
					headers: {
						"Content-Type": "application/json"
					}
				};
				fetch( 'http://localhost:4321/posttest.json', options)
						.then( response => response.json() )
						.then( response => {
						});
			}
			
			const form = document.getElementById('form');
			form.addEventListener("submit", logSubmit);
		</script>
	</body>
</html>